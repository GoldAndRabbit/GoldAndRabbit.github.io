<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  <title>Sort_2_Partition_划分算法 | G&amp;R Blog</title>
  <meta name="keywords" content="">
  <meta name="description" content="Sort_2_Partition_划分算法 | G&amp;R Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Overview1.BERT is basically a trained Transformer Encoder stack.   2.Both BERT model sizes have a large number of encoder layers (which the paper calls Transformer Blocks) – twelve for the Base ve">
<meta property="og:type" content="website">
<meta property="og:title" content="Bert">
<meta property="og:url" content="http://example.com/hist_articles/Bert.html">
<meta property="og:site_name" content="G&amp;R Blog">
<meta property="og:description" content="Overview1.BERT is basically a trained Transformer Encoder stack.   2.Both BERT model sizes have a large number of encoder layers (which the paper calls Transformer Blocks) – twelve for the Base ve">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s3.ax1x.com/2020/12/16/r1tx0A.png">
<meta property="og:image" content="https://s3.ax1x.com/2020/12/16/r1tWy4.png">
<meta property="og:image" content="https://s3.ax1x.com/2020/12/16/r1tcWT.png">
<meta property="og:image" content="https://s3.ax1x.com/2020/12/16/r1tfOJ.png">
<meta property="og:image" content="https://s3.ax1x.com/2020/12/16/r1tRlF.png">
<meta property="og:image" content="https://s3.ax1x.com/2020/12/16/r1t2SU.png">
<meta property="og:image" content="https://s3.ax1x.com/2020/12/16/r1tx0A.png">
<meta property="article:published_time" content="2020-12-16T13:56:00.000Z">
<meta property="article:modified_time" content="2025-04-28T09:12:10.794Z">
<meta property="article:author" content="G&amp;R">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s3.ax1x.com/2020/12/16/r1tx0A.png">


<link rel="icon" href="/img/fox.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-dark.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="G&R Blog" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
<link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/fox.jpg"/>
</a>
<div class="author">
    <span>G&amp;R</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/goldandrabbit"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:goldandrabbit@foxmail.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(170)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="Ads_RecSys">
            
            Ads_RecSys
            <small>(34)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Algorithm">
            
            Algorithm
            <small>(70)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Coding">
            
            Coding
            <small>(33)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="ML_DL_LLM">
            
            ML_DL_LLM
            <small>(14)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Reading">
            
            Reading
            <small>(12)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Rethinking">
            
            Rethinking
            <small>(7)</small>
        </div>
        
    </li>

            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="170">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="search shortcut key i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="switch to outline view shortcut key w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="return"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="case sensitive"></i>
            <i class="iconfont icon-tag" data-title="label"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">outline</div>
            <i class="iconfont icon-list" data-title="switch to article list"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All Coding "
           href="/2099/01/30/G&R%20Blog%20Release%20Regulation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="G&amp;R Blog Release Regulation">G&amp;R Blog Release Regulation</span>
            <span class="post-date" title="2099-01-30 20:00:00">2099/01/30</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2099/01/01/A%20Collection%20of%20High-Quality%20Blog/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="A Collection of High-Quality Blog">A Collection of High-Quality Blog</span>
            <span class="post-date" title="2099-01-01 20:28:00">2099/01/01</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2025/02/01/Linux%20Access%20the%20Open%20Internet/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Linux Access the Open Internet">Linux Access the Open Internet</span>
            <span class="post-date" title="2025-02-01 20:43:00">2025/02/01</span>
        </a>
        
        
        <a  class="All Rethinking "
           href="/2024/12/29/2024%20Annual%20Summary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="2024 Annual Summary">2024 Annual Summary</span>
            <span class="post-date" title="2024-12-29 09:00:00">2024/12/29</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2024/10/30/Ubuntu%2024.04%20Upgrade%20Log/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ubuntu 24.04 Upgrade Log">Ubuntu 24.04 Upgrade Log</span>
            <span class="post-date" title="2024-10-30 20:00:00">2024/10/30</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2024/09/05/LLaMA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="LLaMA">LLaMA</span>
            <span class="post-date" title="2024-09-05 20:00:00">2024/09/05</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2024/06/30/Large%20Language%20Model/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Large Language Model">Large Language Model</span>
            <span class="post-date" title="2024-06-30 20:00:00">2024/06/30</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2024/05/30/Decoder-only%20transformer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Decoder-only transformer">Decoder-only transformer</span>
            <span class="post-date" title="2024-05-30 20:00:00">2024/05/30</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2024/03/22/Ubuntu%2022.04%20Upgrade%20Log/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ubuntu 22.04 Upgrade Log">Ubuntu 22.04 Upgrade Log</span>
            <span class="post-date" title="2024-03-22 10:11:00">2024/03/22</span>
        </a>
        
        
        <a  class="All Rethinking "
           href="/2024/02/20/2023%20Annual%20Summary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="2023 Annual Summary">2023 Annual Summary</span>
            <span class="post-date" title="2024-02-20 20:00:00">2024/02/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2024/01/20/CREAD%20A%20Classification-Restoration%20Framework%20with%20Error%20Adaptive%20Discretization%20for%20Watch%20Time%20Prediction%20in%20Video%20Recommender%20Systems/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CREAD A Classification-Restoration Framework with Error Adaptive Discretization for Watch Time Prediction in Video Recommender Systems">CREAD A Classification-Restoration Framework with Error Adaptive Discretization for Watch Time Prediction in Video Recommender Systems</span>
            <span class="post-date" title="2024-01-20 20:20:00">2024/01/20</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2024/01/11/%E4%BB%8E%E6%89%BE%E4%BA%8B%E7%90%86%E8%AE%BA%E5%88%B0%20TRIZ/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="从找事理论到 TRIZ">从找事理论到 TRIZ</span>
            <span class="post-date" title="2024-01-11 20:11:00">2024/01/11</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/12/30/Joint%20Optimization%20of%20Ranking%20and%20Calibration%20with%20Contextualized%20Hybrid%20Model/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Joint Optimization of Ranking and Calibration with Contextualized Hybrid Model">Joint Optimization of Ranking and Calibration with Contextualized Hybrid Model</span>
            <span class="post-date" title="2023-12-30 20:43:00">2023/12/30</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/11/20/Multi-Scenario%20Ranking%20with%20Adaptive%20Feature%20Learning/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Multi-Scenario Ranking with Adaptive Feature Learning">Multi-Scenario Ranking with Adaptive Feature Learning</span>
            <span class="post-date" title="2023-11-20 20:08:00">2023/11/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/11/20/Towards%20Deeper,%20Lighter%20and%20Interpretable%20Cross%20Network%20for%20CTR%20Prediction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Towards Deeper, Lighter and Interpretable Cross Network for CTR Prediction">Towards Deeper, Lighter and Interpretable Cross Network for CTR Prediction</span>
            <span class="post-date" title="2023-11-20 20:08:00">2023/11/20</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2023/10/20/Self-Attention%20with%20Relative%20Position%20Representations/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Self-Attention with Relative Position Representations">Self-Attention with Relative Position Representations</span>
            <span class="post-date" title="2023-10-20 20:08:00">2023/10/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/10/15/RankFlow%20Joint%20Optimization%20of%20Multi-Stage%20Cascade%20Ranking%20Systems%20as%20Flows/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RankFlow Joint Optimization of Multi-Stage Cascade Ranking Systems as Flows">RankFlow Joint Optimization of Multi-Stage Cascade Ranking Systems as Flows</span>
            <span class="post-date" title="2023-10-15 13:08:00">2023/10/15</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/10/11/SHARK%20A%20Lightweight%20Model%20Compression%20Approach%20for%20Large-scale%20Recommender%20Systems/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SHARK A Lightweight Model Compression Approach for Large-scale Recommender Systems">SHARK A Lightweight Model Compression Approach for Large-scale Recommender Systems</span>
            <span class="post-date" title="2023-10-11 20:43:00">2023/10/11</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2023/09/21/Say%20Good%20Night%20To%20Insomnia/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Say Good Night To Insomnia">Say Good Night To Insomnia</span>
            <span class="post-date" title="2023-09-21 20:43:00">2023/09/21</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/09/20/Scenario-Adaptive%20Feature%20Interaction%20for%20Click-Through%20Rate%20Prediction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Scenario-Adaptive Feature Interaction for Click-Through Rate Prediction">Scenario-Adaptive Feature Interaction for Click-Through Rate Prediction</span>
            <span class="post-date" title="2023-09-20 20:43:00">2023/09/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/08/20/Gini%20Coefficient%20%E5%9F%BA%E5%B0%BC%E7%B3%BB%E6%95%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Gini Coefficient 基尼系数">Gini Coefficient 基尼系数</span>
            <span class="post-date" title="2023-08-20 20:08:00">2023/08/20</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2023/08/20/Pairwise%20%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Pairwise 损失函数计算">Pairwise 损失函数计算</span>
            <span class="post-date" title="2023-08-20 20:08:00">2023/08/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/08/13/A%20Simple%20Framework%20for%20Contrastive%20Learning%20of%20Visual%20Representations/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="A Simple Framework for Contrastive Learning of Visual Representations">A Simple Framework for Contrastive Learning of Visual Representations</span>
            <span class="post-date" title="2023-08-13 20:43:00">2023/08/13</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/07/20/Delving%20into%20Deep%20Imbalanced%20Regression/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Delving into Deep Imbalanced Regression">Delving into Deep Imbalanced Regression</span>
            <span class="post-date" title="2023-07-20 20:43:00">2023/07/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/07/18/CASPR:%20Customer%20Activity%20Sequence-based%20Prediction%20and%20Representation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CASPR Customer Activity Sequence-based Prediction and Representation">CASPR Customer Activity Sequence-based Prediction and Representation</span>
            <span class="post-date" title="2023-07-18 20:00:00">2023/07/18</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/07/13/DCN%20V2%20Improved%20Deep%20&%20Cross%20Network%20and%20Practical%20Lessons%20for%20Web-scale%20Learning%20to%20Rank%20Systems/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DCN V2 Improved Deep &amp; Cross Network and Practical Lessons for Web-scale Learning to Rank Systems">DCN V2 Improved Deep &amp; Cross Network and Practical Lessons for Web-scale Learning to Rank Systems</span>
            <span class="post-date" title="2023-07-13 20:00:00">2023/07/13</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2023/07/05/Learning%20to%20Rank%20From%20Pairwise%20Approach%20to%20Listwise%20Approach/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Learning to Rank From Pairwise Approach to Listwise Approach">Learning to Rank From Pairwise Approach to Listwise Approach</span>
            <span class="post-date" title="2023-07-05 20:08:00">2023/07/05</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/07/03/Billion-user%20Customer%20Lifetime%20Value%20Prediction%20An%20Industrial-scale%20Solution%20from%20Kuaishou/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Billion-user Customer Lifetime Value Prediction An Industrial-scale Solution from Kuaishou">Billion-user Customer Lifetime Value Prediction An Industrial-scale Solution from Kuaishou</span>
            <span class="post-date" title="2023-07-03 20:00:00">2023/07/03</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2023/06/29/Ord2Seq%20Regarding%20Ordinal%20Regression%20as%20Label%20Sequence%20Prediction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ord2Seq Regarding Ordinal Regression as Label Sequence Prediction">Ord2Seq Regarding Ordinal Regression as Label Sequence Prediction</span>
            <span class="post-date" title="2023-06-29 20:08:00">2023/06/29</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2023/06/21/Selective-Supervised%20Contrastive%20Learning%20with%20Noisy%20Labels/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Selective-Supervised Contrastive Learning with Noisy Labels">Selective-Supervised Contrastive Learning with Noisy Labels</span>
            <span class="post-date" title="2023-06-21 20:08:00">2023/06/21</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/06/20/Contrastive%20Multi-view%20Framework%20for%20Customer%20Lifetime%20Value%20Prediction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Contrastive Multi-view Framework for Customer Lifetime Value Prediction">Contrastive Multi-view Framework for Customer Lifetime Value Prediction</span>
            <span class="post-date" title="2023-06-20 20:43:00">2023/06/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/06/18/Ads_Target%20CPX%20v.s.%20Max%20Return/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ads_Target CPX v.s. Max Return">Ads_Target CPX v.s. Max Return</span>
            <span class="post-date" title="2023-06-18 00:11:10">2023/06/18</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/06/18/Ads_%E9%A2%84%E6%9C%9F%E8%8A%B1%E8%B4%B9%E4%B8%8E%E5%90%8E%E9%AA%8C%E9%A2%84%E6%9C%9F%E8%8A%B1%E8%B4%B9/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ads_预期花费与后验预期花费">Ads_预期花费与后验预期花费</span>
            <span class="post-date" title="2023-06-18 00:10:10">2023/06/18</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/06/15/MAE%20v.s.%20MSE%20%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0%E6%AF%94%E8%BE%83/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MAE v.s. MSE 损失函数比较">MAE v.s. MSE 损失函数比较</span>
            <span class="post-date" title="2023-06-15 20:43:00">2023/06/15</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/06/13/A%20Deep%20Probabilistic%20Model%20For%20Customer%20Lifetime%20Value%20Prediction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="A Deep Probabilistic Model For Customer Lifetime Value Prediction">A Deep Probabilistic Model For Customer Lifetime Value Prediction</span>
            <span class="post-date" title="2023-06-13 20:43:00">2023/06/13</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2023/05/30/Jen-Hsun%20Huang%20Stanford%20student%20and%20Entrpreneur,%20co-founder%20and%20CEO%20of%20NVIDIA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jen-Hsun Huang Stanford student and Entrpreneur, co-founder and CEO of NVIDIA">Jen-Hsun Huang Stanford student and Entrpreneur, co-founder and CEO of NVIDIA</span>
            <span class="post-date" title="2023-05-30 20:43:00">2023/05/30</span>
        </a>
        
        
        <a  class="All Rethinking "
           href="/2023/05/20/2022%20Annual%20Summary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="2022 Annual Summary">2022 Annual Summary</span>
            <span class="post-date" title="2023-05-20 20:00:00">2023/05/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/05/12/Contrastive%20Learning%20for%20Conversion%20Rate%20Prediction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Contrastive Learning for Conversion Rate Prediction">Contrastive Learning for Conversion Rate Prediction</span>
            <span class="post-date" title="2023-05-12 20:43:00">2023/05/12</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2023/01/20/Follow%20the%20Prophet%20Accurate%20Online%20Conversion%20Rate%20Prediction%20in%20the%20Face%20of%20Delayed%20Feedback/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Follow the Prophet Accurate Online Conversion Rate Prediction in the Face of Delayed Feedback">Follow the Prophet Accurate Online Conversion Rate Prediction in the Face of Delayed Feedback</span>
            <span class="post-date" title="2023-01-20 20:08:00">2023/01/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/09/20/Tree%20based%20Progressive%20Regression%20Model%20for%20Watch-Time%20Prediction%20in%20Short-video%20Recommendation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Tree based Progressive Regression Model for Watch-Time Prediction in Short-video Recommendation">Tree based Progressive Regression Model for Watch-Time Prediction in Short-video Recommendation</span>
            <span class="post-date" title="2022-09-20 20:08:00">2022/09/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/08/12/Field-aware%20Calibration%20A%20Simple%20and%20Empirically%20Strong%20Method%20for%20Reliable%20Probabilistic%20Predictions/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Field-aware Calibration A Simple and Empirically Strong Method for Reliable Probabilistic Predictions">Field-aware Calibration A Simple and Empirically Strong Method for Reliable Probabilistic Predictions</span>
            <span class="post-date" title="2022-08-12 20:43:00">2022/08/12</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/05/21/TabTransformer%20Tabular%20Data%20Modeling%20Using%20Contextual%20Embeddings/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TabTransformer Tabular Data Modeling Using Contextual Embeddings">TabTransformer Tabular Data Modeling Using Contextual Embeddings</span>
            <span class="post-date" title="2022-05-21 20:43:00">2022/05/21</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/05/20/FinalMLP:%20An%20Enhanced%20Two-Stream%20MLP%20Model%20for%20CTR%20Prediction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="FinalMLP An Enhanced Two-Stream MLP Model for CTR Prediction">FinalMLP An Enhanced Two-Stream MLP Model for CTR Prediction</span>
            <span class="post-date" title="2022-05-20 20:43:00">2022/05/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/05/15/H&M%20Recommendation%20Competition%20Top1%20%E6%96%B9%E6%A1%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="H&amp;M Recommendation Competition Top1 方案">H&amp;M Recommendation Competition Top1 方案</span>
            <span class="post-date" title="2022-05-15 23:55:00">2022/05/15</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/03/20/Deep%20Interest%20Highlight%20Network%20for%20Click-Through%20Rate%20Prediction%20in%20Trigger-Induced%20Recommendation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Deep Interest Highlight Network for Click-Through Rate Prediction in Trigger-Induced Recommendation">Deep Interest Highlight Network for Click-Through Rate Prediction in Trigger-Induced Recommendation</span>
            <span class="post-date" title="2022-03-20 22:00:00">2022/03/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/03/20/Progressive%20Layered%20Extraction%20(PLE)%20A%20Novel%20Multi-Task%20Learning%20(MTL)%20Model%20for%20Personalized%20Recommendations/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Progressive Layered Extraction (PLE) A Novel Multi-Task Learning (MTL) Model for Personalized Recommendations">Progressive Layered Extraction (PLE) A Novel Multi-Task Learning (MTL) Model for Personalized Recommendations</span>
            <span class="post-date" title="2022-03-20 20:08:00">2022/03/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/03/12/Mechanism%20Design%20%E6%9C%BA%E5%88%B6%E8%AE%BE%E8%AE%A1_1_Learning-based%20Mechanism/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mechanism Design 机制设计_1_Learning-based Mechanism">Mechanism Design 机制设计_1_Learning-based Mechanism</span>
            <span class="post-date" title="2022-03-12 23:00:00">2022/03/12</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2022/02/20/Mechanism%20Design%20%E6%9C%BA%E5%88%B6%E8%AE%BE%E8%AE%A1_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mechanism Design 机制设计_0_overview">Mechanism Design 机制设计_0_overview</span>
            <span class="post-date" title="2022-02-20 20:00:00">2022/02/20</span>
        </a>
        
        
        <a  class="All Rethinking "
           href="/2022/02/07/2021%20Annual%20Summary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="2021 Annual Summary">2021 Annual Summary</span>
            <span class="post-date" title="2022-02-07 12:11:00">2022/02/07</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2021/11/11/Cybernetics%20and%20Society%20%E6%8E%A7%E5%88%B6%E8%AE%BA%E4%B8%8E%E7%A4%BE%E4%BC%9A/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Cybernetics and Society 控制论与社会">Cybernetics and Society 控制论与社会</span>
            <span class="post-date" title="2021-11-11 21:00:00">2021/11/11</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2021/09/10/Bias%20and%20Debias%20in%20Recommender%20System%20%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%20bias%20%E5%92%8C%20debias/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Bias and Debias in Recommender System 推荐系统中的 bias 和 debias">Bias and Debias in Recommender System 推荐系统中的 bias 和 debias</span>
            <span class="post-date" title="2021-09-10 21:00:00">2021/09/10</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2021/08/11/Supervised%20Contrastive%20Learning/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Supervised Contrastive Learning">Supervised Contrastive Learning</span>
            <span class="post-date" title="2021-08-11 20:43:00">2021/08/11</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2021/06/20/Multi-Task%20Learning%20Using%20Uncertainty%20to%20Weigh%20Losses%20for%20Scene%20Geometry%20and%20Semantics/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Multi-Task Learning Using Uncertainty to Weigh Losses for Scene Geometry and Semantics">Multi-Task Learning Using Uncertainty to Weigh Losses for Scene Geometry and Semantics</span>
            <span class="post-date" title="2021-06-20 20:08:00">2021/06/20</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2021/05/20/Causal%20Inference%20%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Causal Inference 因果推断">Causal Inference 因果推断</span>
            <span class="post-date" title="2021-05-20 20:00:00">2021/05/20</span>
        </a>
        
        
        <a  class="All Rethinking "
           href="/2020/12/31/2020%20Annual%20Summary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="2020 Annual Summary">2020 Annual Summary</span>
            <span class="post-date" title="2020-12-31 23:11:00">2020/12/31</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2020/12/20/Shoe%20Dog%20%E9%9E%8B%E7%8B%97/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Shoe Dog 鞋狗">Shoe Dog 鞋狗</span>
            <span class="post-date" title="2020-12-20 18:53:00">2020/12/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2020/11/08/The%20Essence%20of%20RecSys%20%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E7%B2%BE%E8%A6%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="The Essence of RecSys 推荐系统精要">The Essence of RecSys 推荐系统精要</span>
            <span class="post-date" title="2020-11-08 11:56:00">2020/11/08</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/10/01/Hexo%20%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hexo 博客搭建总结">Hexo 博客搭建总结</span>
            <span class="post-date" title="2020-10-01 20:11:00">2020/10/01</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_0_1_cpp%20%E8%AE%BE%E8%AE%A1%E5%93%B2%E5%AD%A6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_0_1_cpp 设计哲学">cpp_0_1_cpp 设计哲学</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_0_1_vscode%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_0_1_vscode 环境配置">cpp_0_1_vscode 环境配置</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_0_2_%E5%A4%B4%E6%96%87%E4%BB%B6%20header%20file/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_0_2_头文件 headerfile">cpp_0_2_头文件 headerfile</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_0_3_%E8%B0%B7%E6%AD%8C%20C++%20%E7%BC%96%E7%A8%8B%E9%A3%8E%E6%A0%BC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_0_3_谷歌 C++ 编程风格">cpp_0_3_谷歌 C++ 编程风格</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_1_1_%E5%B7%A6%E5%80%BC%E5%92%8C%E5%8F%B3%E5%80%BC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_1_1_左值和右值">cpp_1_1_左值和右值</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_1_3_%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8%20Rvalue%20reference/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_1_3_右值引用 Rvalue reference">cpp_1_3_右值引用 Rvalue reference</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_1_2_%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%20Lvalue%20reference/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_1_2_左值引用 Lvalue reference">cpp_1_2_左值引用 Lvalue reference</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_2_1_%E6%8C%87%E9%92%88%20Pointer_1_%E5%9C%B0%E5%9D%80%E5%92%8C%E6%8C%87%E9%92%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_2_1_指针 Pointer_1_地址和指针">cpp_2_1_指针 Pointer_1_地址和指针</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_2_2_%E6%8C%87%E9%92%88%20Pointer_2_%E7%A9%BA%E6%8C%87%E9%92%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_2_2_指针 Pointer_2_空指针">cpp_2_2_指针 Pointer_2_空指针</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_2_3_%E6%8C%87%E9%92%88%20Pointer_3_const%20%E4%B8%8E%E6%8C%87%E9%92%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_2_3_指针 Pointer_3_const 与指针">cpp_2_3_指针 Pointer_3_const 与指针</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_2_4_%E6%8C%87%E9%92%88%20Pointer_4_%E4%BC%A0%E5%9C%B0%E5%9D%80%20Pass%20by%20address/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_2_4_指针 Pointer_4_传地址 Pass by address">cpp_2_4_指针 Pointer_4_传地址 Pass by address</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_2_5_%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88_0_%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_2_5_智能指针_0_设计思想">cpp_2_5_智能指针_0_设计思想</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_2_6_%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88_1_shared_ptr/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_2_6_智能指针_1_shared_ptr">cpp_2_6_智能指针_1_shared_ptr</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_2_7_%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88_2_unique_ptr/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_2_7_智能指针_2_unique_ptr">cpp_2_7_智能指针_2_unique_ptr</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_3_0_constexpr%20%E5%85%B3%E9%94%AE%E5%AD%97/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_3_0_constexpr关键字">cpp_3_0_constexpr关键字</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_3_1_const%20%E5%85%B3%E9%94%AE%E5%AD%97/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_3_1_const 关键字">cpp_3_1_const 关键字</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_3_2_Lambda%20%E8%A1%A8%E8%BE%BE%E5%BC%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_3_2_Lambda 表达式">cpp_3_2_Lambda 表达式</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_5_1_%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_5_1_面向对象_0_overview">cpp_5_1_面向对象_0_overview</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_5_2_%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1_1_%E7%B1%BB%E5%92%8C%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_5_2_面向对象_1_类和成员函数">cpp_5_2_面向对象_1_类和成员函数</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_5_3_%E5%A4%9A%E6%80%81_0_%E8%99%9A%E5%87%BD%E6%95%B0%20Virtual%20Functions/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_5_3_多态_0_虚函数 Virtual Functions">cpp_5_3_多态_0_虚函数 Virtual Functions</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/09/10/cpp_6_0_%E6%A8%A1%E6%9D%BF%20template/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cpp_6_0_模板 template">cpp_6_0_模板 template</span>
            <span class="post-date" title="2020-09-10 00:00:00">2020/09/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/08/20/Python_%E5%A4%9A%E8%BF%9B%E7%A8%8B/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Python_多进程">Python_多进程</span>
            <span class="post-date" title="2020-08-20 20:08:00">2020/08/20</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2020/08/15/%E6%B7%B1%E5%BA%A6%E7%82%B9%E5%87%BB%E7%8E%87%E9%A2%84%E4%BC%B0%E6%A8%A1%E5%9E%8B%E4%B8%AD%E7%9A%84%E7%89%B9%E5%BE%81%E4%BA%A4%E5%8F%89/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="深度点击率预估模型中的特征交叉">深度点击率预估模型中的特征交叉</span>
            <span class="post-date" title="2020-08-15 20:11:00">2020/08/15</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2020/07/18/Leetcode_hot_100%20%E6%80%BB%E7%BB%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Leetcode_hot_100 总结">Leetcode_hot_100 总结</span>
            <span class="post-date" title="2020-07-18 22:56:00">2020/07/18</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2020/04/13/Status%20as%20a%20Service%20%E5%9C%B0%E4%BD%8D%E5%8D%B3%E6%9C%8D%E5%8A%A1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Status as a Service 地位即服务">Status as a Service 地位即服务</span>
            <span class="post-date" title="2020-04-13 20:13:00">2020/04/13</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2020/04/04/Faiss%20%E5%90%91%E9%87%8F%E6%A3%80%E7%B4%A2%E5%BA%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Faiss 向量检索库">Faiss 向量检索库</span>
            <span class="post-date" title="2020-04-04 20:11:00">2020/04/04</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2020/03/22/%E7%8B%BC%E4%BA%BA%E6%9D%80%E5%A6%82%E4%BD%95%E8%87%B4%E8%83%9C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="狼人杀如何致胜">狼人杀如何致胜</span>
            <span class="post-date" title="2020-03-22 02:12:57">2020/03/22</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2020/02/18/David%20Stern,%20who%20turned%20NBA%20into%20powerhouse/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="David Stern, who turned NBA into powerhouse">David Stern, who turned NBA into powerhouse</span>
            <span class="post-date" title="2020-02-18 22:56:00">2020/02/18</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/02/18/Linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Linux 常用命令总结">Linux 常用命令总结</span>
            <span class="post-date" title="2020-02-18 22:56:00">2020/02/18</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2020/02/13/Tensorflow%20API%20%E6%80%BB%E7%BB%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Tensorflow API 总结">Tensorflow API 总结</span>
            <span class="post-date" title="2020-02-13 22:56:00">2020/02/13</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2020/02/03/Transformer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Transformer">Transformer</span>
            <span class="post-date" title="2020-02-03 11:56:00">2020/02/03</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2020/01/11/Tricks%20in%20Data%20Mining%20Competitions%20%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%AF%94%E8%B5%9B%E6%8A%80%E5%B7%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Tricks in Data Mining Competitions 数据挖掘比赛技巧">Tricks in Data Mining Competitions 数据挖掘比赛技巧</span>
            <span class="post-date" title="2020-01-11 20:11:00">2020/01/11</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2020/01/11/Yoshua%20Bengio%20%E5%AF%B9%20ML%20%E7%A0%94%E7%A9%B6%E8%80%85%E7%9A%84%E5%BB%BA%E8%AE%AE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Yoshua Bengio 对 ML 研究者的建议">Yoshua Bengio 对 ML 研究者的建议</span>
            <span class="post-date" title="2020-01-11 20:11:00">2020/01/11</span>
        </a>
        
        
        <a  class="All ML_DL_LLM "
           href="/2020/01/11/Word2Vec/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Word2Vec">Word2Vec</span>
            <span class="post-date" title="2020-01-11 20:11:00">2020/01/11</span>
        </a>
        
        
        <a  class="All Rethinking "
           href="/2019/12/31/2019%20Annual%20Summary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="2019 Annual Summary">2019 Annual Summary</span>
            <span class="post-date" title="2019-12-31 15:11:00">2019/12/31</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2019/12/11/Data%20Analysis%20Tutorial:(Part%20I)/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Data Analysis Tutorial:(Part I)">Data Analysis Tutorial:(Part I)</span>
            <span class="post-date" title="2019-12-11 20:11:00">2019/12/11</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2019/11/03/Marketing%20Management%20%E8%90%A5%E9%94%80%E7%AE%A1%E7%90%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Marketing Management 营销管理">Marketing Management 营销管理</span>
            <span class="post-date" title="2019-11-03 13:03:00">2019/11/03</span>
        </a>
        
        
        <a  class="All Reading "
           href="/2019/10/01/Interview%20record%20of%20ML%20intern%20in%202019/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Interview record of ML intern in 2019">Interview record of ML intern in 2019</span>
            <span class="post-date" title="2019-10-01 12:12:57">2019/10/01</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2019/05/01/Errors%20Archives%20%E6%8A%A5%E9%94%99%E5%BD%92%E6%A1%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Errors Archives 报错归档">Errors Archives 报错归档</span>
            <span class="post-date" title="2019-05-01 13:03:00">2019/05/01</span>
        </a>
        
        
        <a  class="All Ads_RecSys "
           href="/2019/03/20/Modeling%20Task%20Relationships%20in%20Multi-task%20Learning%20with%20Multi-gate%20Mixture-of-Experts/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Modeling Task Relationships in Multi-task Learning with Multi-gate Mixture-of-Experts">Modeling Task Relationships in Multi-task Learning with Multi-gate Mixture-of-Experts</span>
            <span class="post-date" title="2019-03-20 20:43:00">2019/03/20</span>
        </a>
        
        
        <a  class="All Rethinking "
           href="/2018/12/31/2018%20Annual%20Summary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="2018 Annual Summary">2018 Annual Summary</span>
            <span class="post-date" title="2018-12-31 20:17:00">2018/12/31</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/DivideConquer_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DivideConquer_0_overview">DivideConquer_0_overview</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/Hash_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hash_0_overview">Hash_0_overview</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/Heap_1_application/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Heap_1_application">Heap_1_application</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/IntervalProblem_%E5%8C%BA%E9%97%B4%E9%97%AE%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="IntervalProblem_区间问题">IntervalProblem_区间问题</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2018/06/10/LinkedList_%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="LinkedList_链表操作">LinkedList_链表操作</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/Trie_%E5%89%8D%E7%BC%80%E6%A0%91/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Trie_前缀树">Trie_前缀树</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_0_overview">TwoPointers_0_overview</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_1_%E5%BF%AB%E6%85%A2%E6%8C%87%E9%92%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_1_快慢指针">TwoPointers_1_快慢指针</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_2_%E5%B7%A6%E5%8F%B3%E6%8C%87%E9%92%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_2_左右指针">TwoPointers_2_左右指针</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_4_Rabin_Karp/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_4_Rabin_Karp">TwoPointers_4_Rabin_Karp</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_3_%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_3_滑动窗口">TwoPointers_3_滑动窗口</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_6_n%E6%95%B0%E4%B9%8B%E5%92%8C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_6_n数之和">TwoPointers_6_n数之和</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_7_%E8%8D%B7%E5%85%B0%E5%9B%BD%E6%97%97/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_7_荷兰国旗">TwoPointers_7_荷兰国旗</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/TwoPointers_5_%E9%93%BE%E8%A1%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TwoPointers_5_链表">TwoPointers_5_链表</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/06/10/UnionFind_%E5%B9%B6%E6%9F%A5%E9%9B%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UnionFind_并查集">UnionFind_并查集</span>
            <span class="post-date" title="2018-06-10 00:00:00">2018/06/10</span>
        </a>
        
        
        <a  class="All Coding "
           href="/2018/04/05/Git%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Git 使用指南">Git 使用指南</span>
            <span class="post-date" title="2018-04-05 22:56:00">2018/04/05</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Stack_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Stack_0_overview">Stack_0_overview</span>
            <span class="post-date" title="2018-01-19 01:10:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Stack_1_%E5%8D%95%E8%B0%83%E6%A0%88/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Stack_1_单调栈">Stack_1_单调栈</span>
            <span class="post-date" title="2018-01-19 01:09:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Stack_2_%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%A3%E7%A0%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Stack_2_表达式解码">Stack_2_表达式解码</span>
            <span class="post-date" title="2018-01-19 01:08:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Sort_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Sort_0_overview">Sort_0_overview</span>
            <span class="post-date" title="2018-01-19 00:10:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Sort_1_mergeSort_%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Sort_1_mergeSort_归并排序">Sort_1_mergeSort_归并排序</span>
            <span class="post-date" title="2018-01-19 00:09:01">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Sort_1_insertionSort_%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Sort_1_insertionSort_插入排序">Sort_1_insertionSort_插入排序</span>
            <span class="post-date" title="2018-01-19 00:09:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Sort_2_quickSort_%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Sort_2_quickSort_快速排序">Sort_2_quickSort_快速排序</span>
            <span class="post-date" title="2018-01-19 00:08:01">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Sort_2_Partition_%E5%88%92%E5%88%86%E7%AE%97%E6%B3%95/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Sort_2_Partition_划分算法">Sort_2_Partition_划分算法</span>
            <span class="post-date" title="2018-01-19 00:08:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Sort_3_heapSort_%E5%A0%86%E6%8E%92%E5%BA%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Sort_3_heapSort_堆排序">Sort_3_heapSort_堆排序</span>
            <span class="post-date" title="2018-01-19 00:07:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/19/Sort_4_application_%E6%8E%92%E5%BA%8F%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Sort_4_application_排序题">Sort_4_application_排序题</span>
            <span class="post-date" title="2018-01-19 00:06:00">2018/01/19</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Greedy_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Greedy_0_overview">Greedy_0_overview</span>
            <span class="post-date" title="2018-01-07 01:10:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_0_overview">Graph_0_overview</span>
            <span class="post-date" title="2018-01-07 00:10:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_1_dfs_%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_1_dfs_深度优先遍历">Graph_1_dfs_深度优先遍历</span>
            <span class="post-date" title="2018-01-07 00:09:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_2_bfs_%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_2_bfs_广度优先遍历">Graph_2_bfs_广度优先遍历</span>
            <span class="post-date" title="2018-01-07 00:08:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_3_%E7%8E%AF%E6%A3%80%E6%B5%8B%E4%B8%8E%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_3_环检测与拓扑排序">Graph_3_环检测与拓扑排序</span>
            <span class="post-date" title="2018-01-07 00:08:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_4_%E5%B2%9B%E5%B1%BF%E9%97%AE%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_4_岛屿问题">Graph_4_岛屿问题</span>
            <span class="post-date" title="2018-01-07 00:06:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_5_Kruskal/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_5_Kruskal">Graph_5_Kruskal</span>
            <span class="post-date" title="2018-01-07 00:05:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_6_Prim/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_6_Prim">Graph_6_Prim</span>
            <span class="post-date" title="2018-01-07 00:04:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/07/Graph_7_Dijstra/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Graph_7_Dijstra">Graph_7_Dijstra</span>
            <span class="post-date" title="2018-01-07 00:03:00">2018/01/07</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_0_overview">DP_0_overview</span>
            <span class="post-date" title="2018-01-04 01:10:00">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_1_%E5%A4%87%E5%BF%98%E5%BD%95/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_1_备忘录">DP_1_备忘录</span>
            <span class="post-date" title="2018-01-04 01:09:00">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_2_%E6%9C%80%E5%80%BC%E9%97%AE%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_2_最值问题">DP_2_最值问题</span>
            <span class="post-date" title="2018-01-04 01:08:00">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_3_%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E8%BF%98%E6%98%AF%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_3_自顶向下还是自底向上">DP_3_自顶向下还是自底向上</span>
            <span class="post-date" title="2018-01-04 01:07:01">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_3_%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_3_背包问题">DP_3_背包问题</span>
            <span class="post-date" title="2018-01-04 01:07:00">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_4_%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_4_买卖股票">DP_4_买卖股票</span>
            <span class="post-date" title="2018-01-04 01:06:00">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_5_%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_5_打家劫舍">DP_5_打家劫舍</span>
            <span class="post-date" title="2018-01-04 01:05:00">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/04/DP_6_%E9%AB%98%E7%BB%B4%20dp/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DP_6_高维 dp">DP_6_高维 dp</span>
            <span class="post-date" title="2018-01-04 01:04:00">2018/01/04</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/03/cache_LFU/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cache_LFU">cache_LFU</span>
            <span class="post-date" title="2018-01-03 01:10:00">2018/01/03</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/03/cache_LRU/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="cache_LRU">cache_LRU</span>
            <span class="post-date" title="2018-01-03 00:10:00">2018/01/03</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/Bit_%E4%BD%8D%E8%BF%90%E7%AE%97/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Bit_位运算">Bit_位运算</span>
            <span class="post-date" title="2018-01-02 04:00:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/Bipartite_%E4%BA%8C%E5%88%86%E5%9B%BE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Bipartite_二分图">Bipartite_二分图</span>
            <span class="post-date" title="2018-01-02 03:00:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_0_overview">BinaryTree_0_overview</span>
            <span class="post-date" title="2018-01-02 02:10:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_1_%E5%88%86%E8%A7%A3%E9%97%AE%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_1_分解问题">BinaryTree_1_分解问题</span>
            <span class="post-date" title="2018-01-02 02:09:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_2_%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_2_路径问题">BinaryTree_2_路径问题</span>
            <span class="post-date" title="2018-01-02 02:08:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_3_%E8%BF%AD%E4%BB%A3%E9%81%8D%E5%8E%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_3_迭代遍历">BinaryTree_3_迭代遍历</span>
            <span class="post-date" title="2018-01-02 02:07:01">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_3_%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_3_层序遍历">BinaryTree_3_层序遍历</span>
            <span class="post-date" title="2018-01-02 02:07:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_4_%E6%9E%84%E9%80%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_4_构造">BinaryTree_4_构造</span>
            <span class="post-date" title="2018-01-02 02:06:01">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_4_%E4%BA%8C%E5%8F%89%E6%A0%91%E5%92%8C%E9%93%BE%E8%A1%A8%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E5%8C%96/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_4_二叉树和链表的互相转化">BinaryTree_4_二叉树和链表的互相转化</span>
            <span class="post-date" title="2018-01-02 02:06:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_5_%E5%BA%8F%E5%88%97%E5%8C%96/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_4_二叉树和链表的互相转化">BinaryTree_4_二叉树和链表的互相转化</span>
            <span class="post-date" title="2018-01-02 02:05:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_6_BST_%E7%89%B9%E6%80%A7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_6_BST_特性">BinaryTree_6_BST_特性</span>
            <span class="post-date" title="2018-01-02 02:04:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_7_BST_%E6%9F%A5%E6%89%BE%E6%8F%92%E5%85%A5%E5%88%A0%E9%99%A4%E9%AA%8C%E8%AF%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_7_BST_查找插入删除验证">BinaryTree_7_BST_查找插入删除验证</span>
            <span class="post-date" title="2018-01-02 02:03:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinaryTree_8_BST_%E6%9E%84%E9%80%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinaryTree_8_BST_构造">BinaryTree_8_BST_构造</span>
            <span class="post-date" title="2018-01-02 02:02:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinarySearch_0_%E9%97%AD%E5%8C%BA%E9%97%B4%E6%90%9C%E7%B4%A2%E5%92%8C%E5%B7%A6%E9%97%AD%E5%8F%B3%E5%BC%80%E6%90%9C%E7%B4%A2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinarySearch_0_闭区间搜索和左闭右开搜索">BinarySearch_0_闭区间搜索和左闭右开搜索</span>
            <span class="post-date" title="2018-01-02 01:10:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinarySearch_1_%E5%8D%95%E8%B0%83%E7%BB%93%E6%9E%84%E4%B8%8B%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinarySearch_1_单调结构下二分搜索">BinarySearch_1_单调结构下二分搜索</span>
            <span class="post-date" title="2018-01-02 01:09:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinarySearch_2_%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinarySearch_2_旋转数组二分搜索">BinarySearch_2_旋转数组二分搜索</span>
            <span class="post-date" title="2018-01-02 01:08:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/BinarySearch_3_%E5%8D%95%E8%B0%83%E6%80%A7%E5%BA%94%E7%94%A8%E9%97%AE%E9%A2%98%E7%9A%84%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="BinarySearch_3_单调性应用问题的二分搜索">BinarySearch_3_单调性应用问题的二分搜索</span>
            <span class="post-date" title="2018-01-02 01:07:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/Backtrack_0_overview/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Backtrack_0_overview">Backtrack_0_overview</span>
            <span class="post-date" title="2018-01-02 00:10:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/Backtrack_1_N%E7%9A%87%E5%90%8E%E5%92%8C%E8%A7%A3%E6%95%B0%E7%8B%AC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Backtrack_1_N皇后和解数独">Backtrack_1_N皇后和解数独</span>
            <span class="post-date" title="2018-01-02 00:09:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/02/Backtrack_2_%E7%94%9F%E6%88%90%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88%E5%AD%90%E9%9B%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Backtrack_2_生成排列组合子集">Backtrack_2_生成排列组合子集</span>
            <span class="post-date" title="2018-01-02 00:08:00">2018/01/02</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/01/Array_1_0_%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Array_1_0_前缀和数组与差分数组">Array_1_0_前缀和数组与差分数组</span>
            <span class="post-date" title="2018-01-01 00:10:10">2018/01/01</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/01/Array_1_1_%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Array_1_差分数组">Array_1_差分数组</span>
            <span class="post-date" title="2018-01-01 00:09:10">2018/01/01</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/01/Array_2_%E8%8A%B1%E5%BC%8F%E6%90%9C%E7%B4%A2/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Array_2_花式搜索">Array_2_花式搜索</span>
            <span class="post-date" title="2018-01-01 00:08:00">2018/01/01</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/01/Array_3_%E5%9B%BE%E5%83%8F%E7%BF%BB%E8%BD%AC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Array_3_图像翻转">Array_3_图像翻转</span>
            <span class="post-date" title="2018-01-01 00:07:00">2018/01/01</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/01/Array_4_%E7%8E%AF%E5%BD%A2%E6%95%B0%E7%BB%84/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Array_4_环形数组">Array_4_环形数组</span>
            <span class="post-date" title="2018-01-01 00:06:00">2018/01/01</span>
        </a>
        
        
        <a  class="All Algorithm "
           href="/2018/01/01/Array_5_%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Array_5_矩阵操作">Array_5_矩阵操作</span>
            <span class="post-date" title="2018-01-01 00:05:00">2018/01/01</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="Toggle full screen shortcut key s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Sort_2_Partition_划分算法" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Sort_2_Partition_划分算法</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Algorithm">Algorithm</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2025-04-28 17:20:54'>2018-01-19 00:08</time>
        
    </div>
    <div class="article-meta">
        
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Partition-%E7%AE%97%E6%B3%95"><span class="toc-text">什么是 Partition 算法 ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E6%89%AB%E6%8F%8F-partition-%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0"><span class="toc-text">单次扫描 partition 算法实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88%E6%89%AB%E6%8F%8F-Partition-%E7%AE%97%E6%B3%95-%E4%BA%A4%E6%8D%A2%E5%AE%9E%E7%8E%B0"><span class="toc-text">双指针扫描 Partition 算法-交换实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88%E6%89%AB%E6%8F%8F-Partition-%E7%AE%97%E6%B3%95-%E8%A6%86%E7%9B%96%E5%AE%9E%E7%8E%B0"><span class="toc-text">双指针扫描 Partition 算法-覆盖实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%90%91%E5%88%87%E5%88%86-Partition"><span class="toc-text">三向切分 Partition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E6%96%B9%E5%88%87%E5%88%86-Partition-%E6%80%9D%E6%83%B3%E8%A7%A3%E5%86%B3%E8%8D%B7%E5%85%B0%E5%9B%BD%E6%97%97%E9%97%AE%E9%A2%98"><span class="toc-text">三方切分 Partition 思想解决荷兰国旗问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#75-%E9%A2%9C%E8%89%B2%E5%88%86%E7%B1%BB"><span class="toc-text">75.颜色分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-text">Reference</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div align="center">
<img src="/imgs/leetcode/0.png" width="80%"/>
</div>

<h2 id="什么是-Partition-算法"><a href="#什么是-Partition-算法" class="headerlink" title="什么是 Partition 算法 ?"></a>什么是 Partition 算法 ?</h2><p>1.Partition 算法实现的是将一个数组一分为二的一个 [分割] 算法 或者叫 [划分] 算法; 首先选择数组中的一个元素, (可以随机找一个元素, 或者简单点指定第 1 个元素), 搞一次划分, 划分完的效果我们是想把比它小的所有元素都放在它左边, 比它大的元素都放在它右边; 通常我们定义 partition 算法的返回值是分割之后的枢轴在数组中的 index<br>2.特殊情况下, 如果作为分割元素的元素是存在重复的, 那么返回什么位置 ? 有两种均为正确的设定<br>(i). 可以返回正确分割结果的第 1 个位置, 也就是最左侧位置<br>(ii). 可以返回正确分割结果的最后 1 个位置, 也就是连续重复子数组最后 1 个位置<br>3.上述两种返回结果略有区别, 对应的实现代码在比较和交换的细节上也是略有区别, 但上述细节区别不是这个问题的关键  </p>
<h2 id="单次扫描-partition-算法实现"><a href="#单次扫描-partition-算法实现" class="headerlink" title="单次扫描 partition 算法实现"></a>单次扫描 partition 算法实现</h2><p>我们想下这个算法怎么实现呢 ?<br>1.先指定 1 个用来划分的元素, 比如数组里面第 1 个元素<br>2.然后扫一遍数组, 把每个扫到比枢轴 &lt;= 的元素换到最靠左侧的区域位置<br>3.所以要维护下一个用于交换的位置, 比如设定这个位置为 pos,  扫到对于任何 &lt;= 数轴的元素, pos 指针都往后移动 (指向下一个可以交换的位置)<br>4.最终将枢轴位置元素交换到 pos 位置, 并返回 pos<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">单次扫描 Partition 算法</span></span><br><span class="line"><span class="comment">思想是扫描一遍数组, 把每个扫到比枢轴 &lt;= 的元素换到最靠左侧的区域位置, 所以要维护下一个用于交换的位置</span></span><br><span class="line"><span class="comment">枢轴遇到重复元素, 返回的位置是最后 1 个允许出现的位置</span></span><br><span class="line"><span class="comment">函数输入区间设定为 [l, r] 全闭区间</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 设定第 1 个元素为分割元素, 分割的元素通常命名为枢轴 pivot</span></span><br><span class="line">  <span class="type">int</span> pivot = nums[l];</span><br><span class="line">  <span class="comment">// 设定一个 pos 指针, pos指针 维护指向下一个可以放置 &lt;= pivot 元素的位置, 找到了就可以执行交换</span></span><br><span class="line">  <span class="type">int</span> pos = l;</span><br><span class="line">  <span class="comment">// 扫描所有位置, 扫到对于任何 &lt;= 数轴的元素, pos 指针都往后移动 (指向下一个可以交换的位置), </span></span><br><span class="line">  <span class="comment">// 通过交换 pos 和 i 元素可以实现</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = l<span class="number">+1</span>; i &lt;= r; ++i) &#123;</span><br><span class="line">    <span class="comment">// 当找到一个比 pivot 小或者相等的元素, 直接交换</span></span><br><span class="line">    <span class="keyword">if</span> (nums[i] &lt;= pivot) &#123;</span><br><span class="line">      ++pos;</span><br><span class="line">      <span class="built_in">swap</span>(nums[pos], nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 扫描完之后, 所有的 &lt;= pivot 的元素都被换到了最前面</span></span><br><span class="line">  <span class="comment">// 且 pos 指向最后一个 &lt;= pivot 的位置, 其实也就是取等号的情况, 得到 pivot 的位置</span></span><br><span class="line">  <span class="comment">// 然后我们把元素</span></span><br><span class="line">  <span class="built_in">swap</span>(nums[l], nums[pos]);</span><br><span class="line">  <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>对于 [5,9,2,1,4,7,5,8,3,6] 这个数组, 我们推演下单次扫描 partition 算法的完整划分过程  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pivot = 5              pos = 0</span><br><span class="line">i = 1, cur = 9, n &lt;= 5 pos = 0             [5,9,2,1,4,7,5,8,3,6] </span><br><span class="line">i = 2, cur = 2, y &lt;= 5 pos = 1  switch 9-2 [5,2,9,1,4,7,5,8,3,6]</span><br><span class="line">i = 3, cur = 1, y &lt;= 5 pos = 2  switch 9-1 [5,2,1,9,4,7,5,8,3,6]</span><br><span class="line">i = 4, cur = 4, n &lt;= 5 pos = 3  switch 9-4 [5,2,1,4,9,7,5,8,3,6]</span><br><span class="line">i = 5, cur = 7, n &lt;= 5 pos = 3             [5,2,1,4,9,7,5,8,3,6]</span><br><span class="line">i = 6, cur = 5, y &lt;= 5 pos = 4  switch 9-5 [5,2,1,4,5,7,9,8,3,6] </span><br><span class="line">i = 7, cur = 8, n &lt;= 5 pos = 4             [5,2,1,4,5,7,9,8,3,6] </span><br><span class="line">i = 8, cur = 3, y &lt;= 5 pos = 5  switch 7-3 [5,2,1,4,5,3,9,8,7,6]  </span><br><span class="line">i = 9, cur = 6, n &lt;= 5 pos = 5             [5,2,1,4,5,3,9,8,7,6]</span><br><span class="line">swap(nums[l], nums[pos]) final_pos=5       [3,2,1,4,5,5,9,8,7,6]</span><br></pre></td></tr></table></figure>
<details>
<summary>测试正确性并打印过程代码</summary>
<pre><code>
#include <iostream>
#include <vector>
using namespace std;
int partition(vector<int>& nums, int l, int r) &#123;
  int pivot = nums[l];
  int pos = l;
  for (int i = l+1; i <= r; ++i) &#123;
    if (nums[i] <= pivot) &#123;
      ++pos;
      swap(nums[pos], nums[i]);
    &#125;
    std::cout << "i=" << i << ", pos=" << pos << " [";
    for (int i = 0; i <= r; ++i) &#123;
      std::cout << nums[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
  &#125;
  swap(nums[l], nums[pos]);
  cout << "     final:[";
  for (int i = 0; i <= r; ++i) &#123;
    std::cout << nums[i] << " ";
  &#125;
  std::cout << "]";
  return pos;
&#125;
int main() &#123;
  vector<int> c&#123;5,9,2,1,4,7,5,8,3,6&#125; ;
  int r = partition(c, 0, c.size()-1);
  std::cout <<  "result_pos=" << r ;
  return 0;
&#125;
</code></pre>
</details>


<p>每次交换的时候, 可以对一个同位置交换判断, 少交换一次  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> pivot = nums[l];</span><br><span class="line">  <span class="type">int</span> pos = l;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = l<span class="number">+1</span>; i &lt;= r; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] &lt;= pivot) &#123;</span><br><span class="line">      ++pos;</span><br><span class="line">      <span class="comment">// 位置相同的时候, 不发生交换</span></span><br><span class="line">      <span class="keyword">if</span> (i != pos) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(nums[pos], nums[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">swap</span>(nums[l], nums[pos]);</span><br><span class="line">  <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果我们将比较条件由 nums[i] &lt;= pivot 转化成 nums[i] &lt; pivot, 也就是设定只有在严格小的时候才交换, 在这样的设定下, 如果有重复的枢轴元素, 结果返回的位置是元素最左侧合法的位置; 我们推演下单次扫描 partition 算法的完整划分过程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">i=1, pos=0 [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">i=2, pos=1 [5 2 9 1 4 7 5 8 3 6 ]</span><br><span class="line">i=3, pos=2 [5 2 1 9 4 7 5 8 3 6 ]</span><br><span class="line">i=4, pos=3 [5 2 1 4 9 7 5 8 3 6 ]</span><br><span class="line">i=5, pos=3 [5 2 1 4 9 7 5 8 3 6 ]</span><br><span class="line">i=6, pos=3 [5 2 1 4 9 7 5 8 3 6 ]</span><br><span class="line">i=7, pos=3 [5 2 1 4 9 7 5 8 3 6 ]</span><br><span class="line">i=8, pos=4 [5 2 1 4 3 7 5 8 9 6 ]</span><br><span class="line">i=9, pos=4 [5 2 1 4 3 7 5 8 9 6 ]</span><br><span class="line">     final:[3 2 1 4 5 7 5 8 9 6 ], result_pos=4</span><br></pre></td></tr></table></figure>
<p>更一般地, 我们选择数组中随机位置上的元素作为枢轴; 相对上述选择第 1 个元素为枢轴的方式, 改动方式为: 选择完随机元素, 并换到第 1 个位置上, 我们就重复朴素的单次扫描算法进行划分  </p>
<blockquote>
<p>回顾下 cpp 中<br>要取 [a,b) 的随机整数, 用 (rand() % (b-a)) + a;<br>要取 [a,b] 的随机整数, 用 (rand() % (b-a+1)) + a;<br>要取 (a,b] 的随机整数, 用 (rand() % (b-a)) + a + 1;</p>
</blockquote>
<p>得到单次扫描 partition 算法  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> rIdx = (<span class="built_in">rand</span>() % (r - l + <span class="number">1</span>)) + l;</span><br><span class="line">  <span class="type">int</span> pivot = nums[rIdx];</span><br><span class="line">  <span class="built_in">swap</span>(nums[rIdx], nums[l]);</span><br><span class="line">  <span class="type">int</span> pos = l;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = l<span class="number">+1</span>; i &lt;= r; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] &lt;= pivot) &#123;</span><br><span class="line">      ++pos;</span><br><span class="line">      <span class="keyword">if</span> (i != pos) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(nums[pos], nums[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">swap</span>(nums[l], nums[pos]);</span><br><span class="line">  <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details>
<summary>测试正确性并打印过程代码</summary>
<pre><code>
#include <iostream>
#include <vector>
#include <cstdlib>
#include <ctime>
using namespace std;
int partition(vector<int>& nums, int l, int r) &#123;
  int rIdx = (rand() % (r - l + 1)) + l;
  int pivot = nums[rIdx];
  std::cout << "rIdx=" << rIdx << ", pviot=" << pivot << std::endl;
  swap(nums[rIdx], nums[l]);
  int pos = l;
  for (int i = l+1; i <= r; ++i) &#123;
    if (nums[i] <= pivot) &#123;
      ++pos;
      if (i != pos) &#123;
        swap(nums[pos], nums[i]);
      &#125;
    &#125;
    std::cout << "i=" << i << ", pos=" << pos << " [";
    for (int i = 0; i <= r; ++i) &#123;
      std::cout << nums[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
  &#125;
  swap(nums[l], nums[pos]);
  cout << "     final:[";
  for (int i = 0; i <= r; ++i) &#123;
    std::cout << nums[i] << " ";
  &#125;
  std::cout << "]";
  return pos;
&#125;

int main() &#123;
  srand(time(nullptr));
  vector<int> c&#123;5,9,2,1,4,7,5,8,3,6&#125; ;
  int r = partition(c, 0, c.size()-1);
  std::cout << "result_pos=" << r ;
  return 0;
&#125;
</code></pre>
</details>


<h2 id="双指针扫描-Partition-算法-交换实现"><a href="#双指针扫描-Partition-算法-交换实现" class="headerlink" title="双指针扫描 Partition 算法-交换实现"></a>双指针扫描 Partition 算法-交换实现</h2><p>1.单次扫描实现的 Partition, 相当于在扫描的过程中把更小的元素全部移动在最前面; 扫描的过程中, 如果是遇到了比 pivot 更大的元素, 这个比 pviot 更大的元素可能会发生多次交换<br>2.一个优化的方法是: 我们引入双指针的思想, 从左右两边各自设置一个指针同时扫描, 左边的指针扫描目标是比 pivot 严格更大的, 右边的指针扫描目标是比 pivot 严格更小的, 二者用交换的方式实现 [对撞] 扫描, 同时安排 2 个位置的效果<br>3.思考下一个边界条件, while () 括号里面写的 l &lt;= r ? 还是 l &lt; r ? 也就是双指针的碰撞是否允许发生?<br>取等号的时候, l == r, 设定了两个指针至多相遇 1 次, 这种相遇我们称之为 [对撞]; 我们可以设定这种相遇发生, 并继续让两个指针继续移动<br>4.交换整个过程结束之后, 我们要返回的中分的位置是哪个 ? 或者问为什么返回值是 r 而不是 l ?<br>相遇之后, l 继续向右走 1 步, 同时也是至多走 1 步, 走完之后此时关系为 l &gt; r; r 此时再也没有任何移动的机会, 此时 r 正好停在数组内我们想要的位置, l 可能处于超出数组合法 index 的位置  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> randIdx = left + <span class="built_in">rand</span>() % (right - left + <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">swap</span>(nums[randIdx], nums[left]);</span><br><span class="line">  <span class="type">int</span> pivot = nums[left];</span><br><span class="line">  <span class="type">int</span> l = left;</span><br><span class="line">  <span class="type">int</span> r = right;</span><br><span class="line">  <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">    <span class="comment">// 从左往右, 找到第 1 个严格 &gt; pivot 的位置</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r &amp;&amp; nums[l] &lt;= pivot) &#123;</span><br><span class="line">      ++l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 从右往左, 找到第 1 个严格 &lt; pivot 的位置</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r &amp;&amp; nums[r] &gt;= pivot) &#123;</span><br><span class="line">      --r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (l &lt;= r) &#123;</span><br><span class="line">      <span class="comment">// 交换值</span></span><br><span class="line">      <span class="built_in">swap</span>(nums[l], nums[r]);</span><br><span class="line">      ++l;</span><br><span class="line">      --r;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">swap</span>(nums[left], nums[r]);</span><br><span class="line">  <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们测试并推演不同枢轴选择下的划分过程  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=0 pivotNum=5</span><br><span class="line">l=1, r=8 after possible swap: [5 3 2 1 4 7 5 8 9 6 ] l=2, r=7</span><br><span class="line">l=5, r=4 after possible swap: [5 3 2 1 4 7 5 8 9 6 ] l=5, r=4</span><br><span class="line">final                         [4 3 2 1 5 7 5 8 9 6 ] result_pos=4</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=1 pivotNum=9</span><br><span class="line">l=10, r=9 after possible swap:[9 5 2 1 4 7 5 8 3 6 ] l=10, r=9</span><br><span class="line">final                         [6 5 2 1 4 7 5 8 3 9 ] result_pos=9</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=2 pivotNum=2</span><br><span class="line">l=1, r=3 after possible swap: [2 1 5 9 4 7 5 8 3 6 ] l=2, r=2</span><br><span class="line">l=2, r=1 after possible swap: [2 1 5 9 4 7 5 8 3 6 ] l=2, r=1</span><br><span class="line">final                         [1 2 5 9 4 7 5 8 3 6 ] result_pos=1</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=3 pivotNum=1</span><br><span class="line">l=1, r=0 after possible swap: [1 9 2 5 4 7 5 8 3 6 ] l=1, r=0</span><br><span class="line">final                         [1 9 2 5 4 7 5 8 3 6 ] result_pos=0</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=4 pivotNum=4</span><br><span class="line">l=1, r=8 after possible swap: [4 3 2 1 5 7 5 8 9 6 ] l=2, r=7</span><br><span class="line">l=4, r=3 after possible swap: [4 3 2 1 5 7 5 8 9 6 ] l=4, r=3</span><br><span class="line">final                         [1 3 2 4 5 7 5 8 9 6 ] result_pos=3</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=5 pivotNum=7</span><br><span class="line">l=1, r=9 after possible swap: [7 6 2 1 4 5 5 8 3 9 ] l=2, r=8</span><br><span class="line">l=7, r=8 after possible swap: [7 6 2 1 4 5 5 3 8 9 ] l=8, r=7</span><br><span class="line">final                         [3 6 2 1 4 5 5 7 8 9 ] result_pos=7</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=6 pivotNum=5</span><br><span class="line">l=1, r=8 after possible swap: [5 3 2 1 4 7 5 8 9 6 ] l=2, r=7</span><br><span class="line">l=5, r=4 after possible swap: [5 3 2 1 4 7 5 8 9 6 ] l=5, r=4</span><br><span class="line">final                         [4 3 2 1 5 7 5 8 9 6 ] result_pos=4</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=7 pivotNum=8</span><br><span class="line">l=1, r=9 after possible swap: [8 6 2 1 4 7 5 5 3 9 ] l=2, r=8</span><br><span class="line">l=9, r=8 after possible swap: [8 6 2 1 4 7 5 5 3 9 ] l=9, r=8</span><br><span class="line">final                         [3 6 2 1 4 7 5 5 8 9 ] result_pos=8</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=8 pivotNum=3</span><br><span class="line">l=1, r=3 after possible swap: [3 1 2 9 4 7 5 8 5 6 ] l=2, r=2</span><br><span class="line">l=3, r=2 after possible swap: [3 1 2 9 4 7 5 8 5 6 ] l=3, r=2</span><br><span class="line">final                         [2 1 3 9 4 7 5 8 5 6 ] result_pos=2</span><br><span class="line"></span><br><span class="line">ori                           [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=9 pivotNum=6</span><br><span class="line">l=1, r=9 after possible swap: [6 5 2 1 4 7 5 8 3 9 ] l=2, r=8</span><br><span class="line">l=5, r=8 after possible swap: [6 5 2 1 4 3 5 8 7 9 ] l=6, r=7</span><br><span class="line">l=7, r=6 after possible swap: [6 5 2 1 4 3 5 8 7 9 ] l=7, r=6</span><br><span class="line">final                         [5 5 2 1 4 3 6 8 7 9 ] result_pos=6</span><br></pre></td></tr></table></figure>
<details>
<summary>测试正确性并打印过程代码</summary>
<pre><code>
#include <iostream>
#include <vector>
#include <algorithm>
#include <ctime>
#include <cstdlib>
using namespace std;
int partition(vector<int>& nums, int left, int right, int pivotIdx) &#123;
  // int randIdx = left + rand() % (right - left + 1);
  int randIdx = pivotIdx;
  swap(nums[randIdx], nums[left]);
  int pivot = nums[left];
  std::cout << "pivotIdx="  << pivotIdx << " pivotNum=" << pivot << std::endl;
  int l = left;
  int r = right;
  while (l <= r) &#123;
    while (l <= r && nums[l] <= pivot) &#123;
      ++l;
    &#125;
    while (l <= r && nums[r] >= pivot) &#123;
      --r;
    &#125;
    std::cout << "l=" << l << ", r=" << r;
    if (l <= r) &#123;
      swap(nums[l], nums[r]);
      ++l;
      --r;
    &#125;
    std::cout << " after possible swap: [";
    for (int i = 0; i < nums.size(); ++i) &#123;
      std::cout << nums[i] << " ";
    &#125;
    std::cout << "]";
    std::cout << " l=" << l << ", r=" << r << std::endl;
  &#125;
  swap(nums[left], nums[r]);
  cout << "final                         [";
  for (int i = 0; i < nums.size(); ++i) &#123;
    std::cout << nums[i] << " ";
  &#125;
  std::cout << "]";
  return r;
&#125;
int main() &#123;
  srand(time(nullptr));
  vector<int> c&#123;5,9,2,1,4,7,5,8,3,6&#125;;
  for (int k = 0; k < c.size(); ++k) &#123;
    c = vector<int>&#123;5,9,2,1,4,7,5,8,3,6&#125;;
    cout << "ori                           [";
    for (int i = 0; i < c.size(); ++i) &#123;
      std::cout << c[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
    int pos = partition(c, 0, c.size()-1, k);
    std::cout << " result_pos=" << pos << std::endl << std::endl;
  &#125;
  return 0;
&#125;
</code></pre>
</details>


<h2 id="双指针扫描-Partition-算法-覆盖实现"><a href="#双指针扫描-Partition-算法-覆盖实现" class="headerlink" title="双指针扫描 Partition 算法-覆盖实现"></a>双指针扫描 Partition 算法-覆盖实现</h2><p>1.分析上述的双指针对撞交换执行过程, 我们发现从两头到中间对撞的过程只发生一次, 同时两边的指针都是不走回头路的一遍遍历, 因此我们可以用覆盖的操作去替代交换的操作<br>2.然而, 和采用交换操作实现不同, 在双指针扫描覆盖算法实现过程中, 有一个 [初始枢轴位置选择] 和 [覆盖发生顺序] 的匹配问题:<br>(i). 如果初始时刻枢轴选择在最左边, 那么需要首先从右向左覆盖, 然后再从左往右覆盖, 然后重复这样的操作流程<br>(ii). 如果初始时刻枢轴选择在最右边, 那么需要首先从左向右覆盖, 然后再从右往左覆盖, 然后重复这样的操作流程<br>总结来说, 采用覆盖的方法的特点: 必须保证发生过程是严格正确且有序的<br>3.为什么有强制如上的设定, 必须匹配呢 ? 我们后面会分析一下错误的执行过程为什么会错误, 比如初始时刻枢轴选择在最左边, 先从左往右覆盖, 然后再从右往左覆盖会有什么问题<br>4.当我们选择 l &lt; r 的边界设定下, 最后 while 终止的条件是 l == r, 因此, 最后一次覆盖写入的是 l 或者 r 都可以, 且返回位置用 l 或者 r 都可以<br>5.下面我们结合上述分析, 看下实现代码  </p>
<p>初始枢轴选择左右边的情况: 先从右往左扫描写入, 然后再从左往右扫描写入  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> randIdx = left + <span class="built_in">rand</span>() % (right - left + <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">swap</span>(nums[randIdx], nums[left]);</span><br><span class="line">  <span class="comment">// 初始枢轴选最左边</span></span><br><span class="line">  <span class="type">int</span> pivot = nums[left];</span><br><span class="line">  <span class="type">int</span> l = left;</span><br><span class="line">  <span class="type">int</span> r = right;</span><br><span class="line">  <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[r] &gt;= pivot) &#123;</span><br><span class="line">      --r;</span><br><span class="line">    &#125;</span><br><span class="line">    nums[l] = nums[r];</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[l] &lt;= pivot) &#123;</span><br><span class="line">      ++l;</span><br><span class="line">    &#125;</span><br><span class="line">    nums[r] = nums[l];</span><br><span class="line">  &#125;</span><br><span class="line">  nums[l] = pivot;</span><br><span class="line">  <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>初始枢轴选择最右边的情况: 先从左往右扫描写入, 然后再从右往左扫描写入  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> randIdx = left + <span class="built_in">rand</span>() % (right - left + <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">swap</span>(nums[randIdx], nums[right]);</span><br><span class="line">  <span class="comment">// 初始枢轴选最左边</span></span><br><span class="line">  <span class="type">int</span> pivot = nums[right];</span><br><span class="line">  <span class="type">int</span> l = left;</span><br><span class="line">  <span class="type">int</span> r = right;</span><br><span class="line">  <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[l] &lt;= pivot) &#123;</span><br><span class="line">      ++l;</span><br><span class="line">    &#125;</span><br><span class="line">    nums[r] = nums[l];</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[r] &gt;= pivot) &#123;</span><br><span class="line">      --r;</span><br><span class="line">    &#125;</span><br><span class="line">    nums[l] = nums[r];</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  nums[l] = pivot;</span><br><span class="line">  <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们测试并推演不同枢轴选择下的划分过程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=0 pivotNum=5</span><br><span class="line">l=1, r=8 after overwrite  [3 9 2 1 4 7 5 8 9 6 ]</span><br><span class="line">l=4, r=4 after overwrite  [3 4 2 1 4 7 5 8 9 6 ]</span><br><span class="line">final                     [3 4 2 1 5 7 5 8 9 6 ] result_pos=4</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=1 pivotNum=9</span><br><span class="line">l=9, r=9 after overwrite  [6 5 2 1 4 7 5 8 3 6 ]</span><br><span class="line">final                     [6 5 2 1 4 7 5 8 3 9 ] result_pos=9</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=2 pivotNum=2</span><br><span class="line">l=1, r=3 after overwrite  [1 9 5 9 4 7 5 8 3 6 ]</span><br><span class="line">l=1, r=1 after overwrite  [1 9 5 9 4 7 5 8 3 6 ]</span><br><span class="line">final                     [1 2 5 9 4 7 5 8 3 6 ] result_pos=1</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=3 pivotNum=1</span><br><span class="line">l=0, r=0 after overwrite  [1 9 2 5 4 7 5 8 3 6 ]</span><br><span class="line">final                     [1 9 2 5 4 7 5 8 3 6 ] result_pos=0</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=4 pivotNum=4</span><br><span class="line">l=1, r=8 after overwrite  [3 9 2 1 5 7 5 8 9 6 ]</span><br><span class="line">l=3, r=3 after overwrite  [3 1 2 1 5 7 5 8 9 6 ]</span><br><span class="line">final                     [3 1 2 4 5 7 5 8 9 6 ] result_pos=3</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=5 pivotNum=7</span><br><span class="line">l=1, r=9 after overwrite  [6 9 2 1 4 5 5 8 3 9 ]</span><br><span class="line">l=7, r=8 after overwrite  [6 3 2 1 4 5 5 8 8 9 ]</span><br><span class="line">l=7, r=7 after overwrite  [6 3 2 1 4 5 5 8 8 9 ]</span><br><span class="line">final                     [6 3 2 1 4 5 5 7 8 9 ] result_pos=7</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=6 pivotNum=5</span><br><span class="line">l=1, r=8 after overwrite  [3 9 2 1 4 7 5 8 9 6 ]</span><br><span class="line">l=4, r=4 after overwrite  [3 4 2 1 4 7 5 8 9 6 ]</span><br><span class="line">final                     [3 4 2 1 5 7 5 8 9 6 ] result_pos=4</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=7 pivotNum=8</span><br><span class="line">l=1, r=9 after overwrite  [6 9 2 1 4 7 5 5 3 9 ]</span><br><span class="line">l=8, r=8 after overwrite  [6 3 2 1 4 7 5 5 3 9 ]</span><br><span class="line">final                     [6 3 2 1 4 7 5 5 8 9 ] result_pos=8</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=8 pivotNum=3</span><br><span class="line">l=1, r=3 after overwrite  [1 9 2 9 4 7 5 8 5 6 ]</span><br><span class="line">l=2, r=2 after overwrite  [1 2 2 9 4 7 5 8 5 6 ]</span><br><span class="line">final                     [1 2 3 9 4 7 5 8 5 6 ] result_pos=2</span><br><span class="line"></span><br><span class="line">ori                       [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=9 pivotNum=6</span><br><span class="line">l=1, r=9 after overwrite  [5 9 2 1 4 7 5 8 3 9 ]</span><br><span class="line">l=5, r=8 after overwrite  [5 3 2 1 4 7 5 8 7 9 ]</span><br><span class="line">l=6, r=6 after overwrite  [5 3 2 1 4 5 5 8 7 9 ]</span><br><span class="line">final                     [5 3 2 1 4 5 6 8 7 9 ] result_pos=6</span><br></pre></td></tr></table></figure>
<details>
<summary>测试正确性并打印过程代码</summary>
<pre><code>
#include <iostream>
#include <vector>
#include <algorithm>
#include <ctime>
#include <cstdlib>
using namespace std;
int partition(vector<int>& nums, int left, int right, int pivotIdx) &#123;
  // int randIdx = left + rand() % (right - left + 1);
  int randIdx = pivotIdx;
  swap(nums[randIdx], nums[left]);
  int pivot = nums[left];
  std::cout << "pivotIdx="  << pivotIdx << " pivotNum=" << pivot << std::endl;
  int l = left;
  int r = right;
  while (l < r) &#123;
    while (l < r && nums[r] >= pivot) &#123;
      --r;
    &#125;
    nums[l] = nums[r];
    while (l < r && nums[l] <= pivot) &#123;
      ++l;
    &#125;
    nums[r] = nums[l];
    std::cout << "l=" << l << ", r=" << r << " after overwrite  [";
    for (int i = 0; i < nums.size(); ++i) &#123;
      std::cout << nums[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
  &#125;
  nums[l] = pivot;
  cout << "final                     [";
  for (int i = 0; i < nums.size(); ++i) &#123;
    std::cout << nums[i] << " ";
  &#125;
  std::cout << "]";
  return r;
&#125;
int main() &#123;
  srand(time(nullptr));
  vector<int> c&#123;5,9,2,1,4,7,5,8,3,6&#125;;
  for (int k = 0; k < c.size(); ++k) &#123;
    c = vector<int>&#123;5,9,2,1,4,7,5,8,3,6&#125;;
    cout << "ori                       [";
    for (int i = 0; i < c.size(); ++i) &#123;
      std::cout << c[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
    int pos = partition(c, 0, c.size()-1, k);
    std::cout << " result_pos=" << pos << std::endl << std::endl;
  &#125;
  return 0;
&#125;
</code></pre>
</details>

<p>测试如果选择最左侧为枢轴, 且从左往右写入的这种错误的情况会发生什么?<br>我们拿枢轴 = 5 的情况可以分析下, 初始的时候 l = 0, r = 9; 从左往右扫描到元素 9 之后, l 指向元素 9, r 仍然是初始 idx 9, 这时候强行发生一次写入: nums[l] = nums[r] 此时的 nums[r] 还是初始值, 也就是说 r 还没有发生一次有意义的指向, 就开始写入, 这是错误的<br>保证初始枢轴的位置和写入顺序的匹配性, 本质是说, 每次让扫描后的指针有了具体的意义, 才执行写入:<br>(i). 当我们初始选择最左边为枢轴的时候, 第 1 次从右往左的扫描使得 r 有意义, 然后先执行写入 nums[l] = nums[r];<br>(ii). 当我们初始选择最右边为枢轴的时候, 第 1 次从左往右的扫描使得 l 有意义, 然后先执行写入 nums[r] = nums[l];  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下演示错误的执行过程发生了什么</span></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=0 pivotNum=5</span><br><span class="line">l=1, r=9 try   overwrite [5 9 2 1 4 7 5 8 3 9 ]</span><br><span class="line">l=1, r=8 try   overwrite [5 3 2 1 4 7 5 8 3 9 ]</span><br><span class="line">l=5, r=8 try   overwrite [5 3 2 1 4 7 5 8 7 9 ]</span><br><span class="line">l=5, r=5 try   overwrite [5 3 2 1 4 7 5 8 7 9 ]</span><br><span class="line">final                    [5 3 2 1 4 5 5 8 7 9 ] result_pos=5</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=1 pivotNum=9</span><br><span class="line">l=9, r=9 try   overwrite [9 5 2 1 4 7 5 8 3 6 ]</span><br><span class="line">l=9, r=9 try   overwrite [9 5 2 1 4 7 5 8 3 6 ]</span><br><span class="line">final                    [9 5 2 1 4 7 5 8 3 9 ] result_pos=9</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=2 pivotNum=2</span><br><span class="line">l=1, r=9 try   overwrite [2 9 5 1 4 7 5 8 3 9 ]</span><br><span class="line">l=1, r=3 try   overwrite [2 1 5 1 4 7 5 8 3 9 ]</span><br><span class="line">l=2, r=3 try   overwrite [2 1 5 5 4 7 5 8 3 9 ]</span><br><span class="line">l=2, r=2 try   overwrite [2 1 5 5 4 7 5 8 3 9 ]</span><br><span class="line">final                    [2 1 2 5 4 7 5 8 3 9 ] result_pos=2</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=3 pivotNum=1</span><br><span class="line">l=1, r=9 try   overwrite [1 9 2 5 4 7 5 8 3 9 ]</span><br><span class="line">l=1, r=1 try   overwrite [1 9 2 5 4 7 5 8 3 9 ]</span><br><span class="line">final                    [1 1 2 5 4 7 5 8 3 9 ] result_pos=1</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=4 pivotNum=4</span><br><span class="line">l=1, r=9 try   overwrite [4 9 2 1 5 7 5 8 3 9 ]</span><br><span class="line">l=1, r=8 try   overwrite [4 3 2 1 5 7 5 8 3 9 ]</span><br><span class="line">l=4, r=8 try   overwrite [4 3 2 1 5 7 5 8 5 9 ]</span><br><span class="line">l=4, r=4 try   overwrite [4 3 2 1 5 7 5 8 5 9 ]</span><br><span class="line">final                    [4 3 2 1 4 7 5 8 5 9 ] result_pos=4</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=5 pivotNum=7</span><br><span class="line">l=1, r=9 try   overwrite [7 9 2 1 4 5 5 8 3 9 ]</span><br><span class="line">l=1, r=8 try   overwrite [7 3 2 1 4 5 5 8 3 9 ]</span><br><span class="line">l=7, r=8 try   overwrite [7 3 2 1 4 5 5 8 8 9 ]</span><br><span class="line">l=7, r=7 try   overwrite [7 3 2 1 4 5 5 8 8 9 ]</span><br><span class="line">final                    [7 3 2 1 4 5 5 7 8 9 ] result_pos=7</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=6 pivotNum=5</span><br><span class="line">l=1, r=9 try   overwrite [5 9 2 1 4 7 5 8 3 9 ]</span><br><span class="line">l=1, r=8 try   overwrite [5 3 2 1 4 7 5 8 3 9 ]</span><br><span class="line">l=5, r=8 try   overwrite [5 3 2 1 4 7 5 8 7 9 ]</span><br><span class="line">l=5, r=5 try   overwrite [5 3 2 1 4 7 5 8 7 9 ]</span><br><span class="line">final                    [5 3 2 1 4 5 5 8 7 9 ] result_pos=5</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=7 pivotNum=8</span><br><span class="line">l=1, r=9 try   overwrite [8 9 2 1 4 7 5 5 3 9 ]</span><br><span class="line">l=1, r=8 try   overwrite [8 3 2 1 4 7 5 5 3 9 ]</span><br><span class="line">l=8, r=8 try   overwrite [8 3 2 1 4 7 5 5 3 9 ]</span><br><span class="line">l=8, r=8 try   overwrite [8 3 2 1 4 7 5 5 3 9 ]</span><br><span class="line">final                    [8 3 2 1 4 7 5 5 8 9 ] result_pos=8</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=8 pivotNum=3</span><br><span class="line">l=1, r=9 try   overwrite [3 9 2 1 4 7 5 8 5 9 ]</span><br><span class="line">l=1, r=3 try   overwrite [3 1 2 1 4 7 5 8 5 9 ]</span><br><span class="line">l=3, r=3 try   overwrite [3 1 2 1 4 7 5 8 5 9 ]</span><br><span class="line">l=3, r=3 try   overwrite [3 1 2 1 4 7 5 8 5 9 ]</span><br><span class="line">final                    [3 1 2 3 4 7 5 8 5 9 ] result_pos=3</span><br><span class="line"></span><br><span class="line">ori                      [5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">pivotIdx=9 pivotNum=6</span><br><span class="line">l=1, r=9 try   overwrite [6 9 2 1 4 7 5 8 3 9 ]</span><br><span class="line">l=1, r=8 try   overwrite [6 3 2 1 4 7 5 8 3 9 ]</span><br><span class="line">l=5, r=8 try   overwrite [6 3 2 1 4 7 5 8 7 9 ]</span><br><span class="line">l=5, r=6 try   overwrite [6 3 2 1 4 5 5 8 7 9 ]</span><br><span class="line">l=6, r=6 try   overwrite [6 3 2 1 4 5 5 8 7 9 ]</span><br><span class="line">l=6, r=6 try   overwrite [6 3 2 1 4 5 5 8 7 9 ]</span><br><span class="line">final                    [6 3 2 1 4 5 6 8 7 9 ] result_pos=6</span><br></pre></td></tr></table></figure>
<p>测试错误逻辑代码 - 测试如果枢轴的设定位置和覆盖的顺序没有正确匹配  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> left, <span class="type">int</span> right, <span class="type">int</span> pivotIdx)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// int randIdx = left + rand() % (right - left + 1);</span></span><br><span class="line">  <span class="type">int</span> randIdx = pivotIdx;</span><br><span class="line">  <span class="built_in">swap</span>(nums[randIdx], nums[left]);</span><br><span class="line">  <span class="type">int</span> pivot = nums[left];</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;pivotIdx=&quot;</span>  &lt;&lt; pivotIdx &lt;&lt; <span class="string">&quot; pivotNum=&quot;</span> &lt;&lt; pivot &lt;&lt; std::endl;</span><br><span class="line">  <span class="type">int</span> l = left;</span><br><span class="line">  <span class="type">int</span> r = right;</span><br><span class="line">  <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[r] &gt;= pivot) &#123;</span><br><span class="line">      --r;</span><br><span class="line">    &#125;</span><br><span class="line">    nums[l] = nums[r];</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;l=&quot;</span> &lt;&lt; l &lt;&lt; <span class="string">&quot;, r=&quot;</span> &lt;&lt; r &lt;&lt; <span class="string">&quot; after overwrite  [&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">      std::cout &lt;&lt; nums[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;]&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r &amp;&amp; nums[l] &lt;= pivot) &#123;</span><br><span class="line">      ++l;</span><br><span class="line">    &#125;</span><br><span class="line">    nums[r] = nums[l];</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;l=&quot;</span> &lt;&lt; l &lt;&lt; <span class="string">&quot;, r=&quot;</span> &lt;&lt; r &lt;&lt; <span class="string">&quot; after overwrite  [&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">      std::cout &lt;&lt; nums[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;]&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">  nums[l] = pivot;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;final                     [&quot;</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">    std::cout &lt;&lt; nums[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="literal">nullptr</span>));</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; c&#123;<span class="number">5</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">6</span>&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; c.<span class="built_in">size</span>(); ++k) &#123;</span><br><span class="line">    c = vector&lt;<span class="type">int</span>&gt;&#123;<span class="number">5</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ori                       [&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; c.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">      std::cout &lt;&lt; c[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;]&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="type">int</span> pos = <span class="built_in">partition</span>(c, <span class="number">0</span>, c.<span class="built_in">size</span>()<span class="number">-1</span>, k);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot; result_pos=&quot;</span> &lt;&lt; pos &lt;&lt; std::endl &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="三向切分-Partition"><a href="#三向切分-Partition" class="headerlink" title="三向切分 Partition"></a>三向切分 Partition</h2><p>1.上面的 partition 我们将数组分为了小于 target 和大于 target 两部分, 也称之为二分 partition; 有时候我们会期望将数组分为 小于 target, 等于 target, 大于 target 的三部分, 这就是三向切分 Partition<br>2.通常来说, 我们定义三向切分的 Partition 的返回值为两个分割点, 这两个分割点是对应和 target 相等的左端点位置和右端点位置<br>3.三向切分的 Partition 如何实现 ? 维护几个指针<br>(i). lt, 维护的下一个找到 &lt; target 的元素之后应该换到的位置, 使得 [low, lt-1] 区间的元素都 &lt; target<br>(ii). gt, 维护的下一个找到 &gt; target 的元素之后应该换到的位置, 使得 [gt+1, high] 区间的元素都 &gt; target<br>(iii). i 指针移动, 使得 [lt, gt] 区间的元素都 == target<br>4.在指针移动的时候, 仍然采用遍历并交换实现, 注意指针移动的时候有更新的细节<br>(i). nums[i] &lt; target, swap(nums[i], nums[lt]), 完成交换后, i 指针 [持续] 往后移动, 因为 i 左边的元素始终是严格 &lt;= target 的, lt 指针自增到下一个可以用于交换的位置等候; lt++, i++;<br>(ii). nums[i] &gt; target, swap(nums[i], nums[lt]), 完成交换之后, gt向前移动到下一个发生交换的位置, gt—; i 位置不发生任何变化, 为什么 i 不变呢 ? 因为在 i 位置上, 我们找到一个比 target 更大的元素换过去了, 换回来的这个元素, 和 target 的大小关系还没有判断, 因此 i 不发生任何变化<br>(iii). nums[i] == target, 相等的情况下无需发生任何交换, 只需要考虑下一个元素, i++  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">threeWayPartition</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> low, <span class="type">int</span> high)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> pivot = nums[low];</span><br><span class="line">  <span class="type">int</span> lt = low;</span><br><span class="line">  <span class="type">int</span> gt = high;</span><br><span class="line">  <span class="type">int</span> i = low + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= gt) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] &lt; pivot) &#123;</span><br><span class="line">      <span class="built_in">swap</span>(nums[i++], nums[lt++]);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] &gt; pivot) &#123;</span><br><span class="line">      <span class="built_in">swap</span>(nums[i], nums[gt--]);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] == pivot) &#123;</span><br><span class="line">      ++i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> vector&lt;<span class="type">int</span>&gt;&#123;lt, gt&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details>
<summary>测试正确性并打印过程代码</summary>
<pre><code>
#include <iostream>
#include <vector>
#include <algorithm>
#include <ctime>
#include <cstdlib>
using namespace std;
vector<int> threeWayPartition(vector<int>& nums, int low, int high) &#123;
  int pivot = nums[low];
  int lt = low;
  int gt = high;
  int i = low + 1;
  while (i <= gt) &#123;
      std::cout << "i=" << i << ", lt=" << lt << ", gt=" << gt;
    if (nums[i] < pivot) &#123;
      swap(nums[i++], nums[lt++]);
    &#125; else if (nums[i] > pivot) &#123;
      swap(nums[i], nums[gt--]);
    &#125; else if (nums[i] == pivot) &#123;
      ++i;
    &#125;
      std::cout << " after swap: " << "i=" << i << ", lt=" << lt << ", gt=" << gt << " [";
    for (int i = 0; i < nums.size(); ++i) &#123;
      std::cout << nums[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
  &#125;
  return vector<int>&#123;lt, gt&#125;;
&#125;
int main() &#123;
  vector<int> c&#123;5,5,9,2,1,4,7,5,8,3,6&#125;;
    cout << "ori [";
    for (int i = 0; i < c.size(); ++i) &#123;
        std::cout << c[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
    vector<int> pos = threeWayPartition(c, 0, c.size()-1);
    cout << "aft [";
    for (int i = 0; i < c.size(); ++i) &#123;
        std::cout << c[i] << " ";
    &#125;
    std::cout << "]" << std::endl;
    std::cout << "lt_pos=" << pos[0] << " gt_pos=" << pos[1] << std::endl;
  return 0;
&#125;
</code></pre>
</details>

<p>得到的结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ori                                           [5 5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">i=1, lt=0, gt=10 after swap: i=2, lt=0, gt=10 [5 5 9 2 1 4 7 5 8 3 6 ]</span><br><span class="line">i=2, lt=0, gt=10 after swap: i=2, lt=0, gt=9  [5 5 6 2 1 4 7 5 8 3 9 ]</span><br><span class="line">i=2, lt=0, gt=9  after swap: i=2, lt=0, gt=8  [5 5 3 2 1 4 7 5 8 6 9 ] 下一次扫描到 3, 是一个比 5 小的数, 交换到 lt 的位置</span><br><span class="line">i=2, lt=0, gt=8  after swap: i=3, lt=1, gt=8  [3 5 5 2 1 4 7 5 8 6 9 ] 下一次扫描到 2, 是一个比 5 小的数, 交换到 lt 的位置</span><br><span class="line">i=3, lt=1, gt=8  after swap: i=4, lt=2, gt=8  [3 2 5 5 1 4 7 5 8 6 9 ]</span><br><span class="line">i=4, lt=2, gt=8  after swap: i=5, lt=3, gt=8  [3 2 1 5 5 4 7 5 8 6 9 ]</span><br><span class="line">i=5, lt=3, gt=8  after swap: i=6, lt=4, gt=8  [3 2 1 4 5 5 7 5 8 6 9 ]</span><br><span class="line">i=6, lt=4, gt=8  after swap: i=6, lt=4, gt=7  [3 2 1 4 5 5 8 5 7 6 9 ]</span><br><span class="line">i=6, lt=4, gt=7  after swap: i=6, lt=4, gt=6  [3 2 1 4 5 5 5 8 7 6 9 ]</span><br><span class="line">i=6, lt=4, gt=6  after swap: i=7, lt=4, gt=6  [3 2 1 4 5 5 5 8 7 6 9 ]</span><br><span class="line">aft                                           [3 2 1 4 5 5 5 8 7 6 9 ]</span><br><span class="line">lt_pos=4 gt_pos=6</span><br></pre></td></tr></table></figure>
<h2 id="三方切分-Partition-思想解决荷兰国旗问题"><a href="#三方切分-Partition-思想解决荷兰国旗问题" class="headerlink" title="三方切分 Partition 思想解决荷兰国旗问题"></a>三方切分 Partition 思想解决荷兰国旗问题</h2><h2 id="75-颜色分类"><a href="#75-颜色分类" class="headerlink" title="75.颜色分类"></a>75.颜色分类</h2><blockquote>
<p>给定一个包含红色、白色和蓝色、共 n 个元素的数组 nums ，原地对它们进行排序，使得相同颜色的元素相邻，并按照红色、白色、蓝色顺序排列。我们使用整数 0、 1 和 2 分别表示红色、白色和蓝色。 必须在不使用库内置的 sort 函数的情况下解决这个问题。</p>
<p>示例 1：输入：nums = [2,0,2,1,1,0] 输出：[0,0,1,1,2,2]</p>
<p>示例 2：输入：nums = [2,0,1] 输出：[0,1,2]</p>
</blockquote>
<p>分析:<br>1.该问题为经典的 [荷兰国旗问题], 不使用排序去做<br>2.最基础的想法是计数排序, 扫一遍统计出0/1/2的个数, 然后再扫一遍按照元素数量去覆盖数组  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">sortColors</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len0 = <span class="number">0</span>;      </span><br><span class="line">    <span class="type">int</span> len1 = <span class="number">0</span>;      </span><br><span class="line">    <span class="type">int</span> len2 = <span class="number">0</span>;      </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; x : nums) &#123;</span><br><span class="line">      <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">        ++len0;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (x == <span class="number">1</span>) &#123;</span><br><span class="line">        ++len1;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (x == <span class="number">2</span>) &#123;</span><br><span class="line">        ++len2;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; nums.<span class="built_in">size</span>()) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i &lt; len0) &#123;</span><br><span class="line">        nums[i] = <span class="number">0</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; len0 + len1) &#123;</span><br><span class="line">        nums[i] = <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        nums[i] = <span class="number">2</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      ++i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3.利用三向切分 partition 的思想去进行交换, 在三向切分 Partition里面是维护两个指针分别指向 &lt; target 的位置和 &gt; target 的位置, 在荷兰国旗问题里面类似是指向 &lt; 1 和 &gt; 1的位置  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">sortColors</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> p0 = <span class="number">0</span>;       <span class="comment">// 指向 0 的做开区间, 最终指向 1 的左端点</span></span><br><span class="line">    <span class="type">int</span> p2 = len<span class="number">-1</span>;   <span class="comment">// 指向 2 的左开区间, 最终指向 1 的右端点</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= p2) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[i] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(nums[i++], nums[p0++]);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(nums[i], nums[p2--]);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] == <span class="number">1</span>) &#123;</span><br><span class="line">        ++i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>更优雅的版本: 一次扫描, 且用覆盖来代替交换<br>维护 p0 写入和 p1 写入点两个指针, 扫描数组, 对于 nums[i] 来说, 不管是几先暂定是2, 这个 2 后续会因为 p0 和 p1 可能发生的写入而覆盖掉, 然后根据值 num 再决定 p0 和 p1 的相应写入和移动过程<br>(i). num == 0 或者 num == 1 的情况下, p1 指针写入并移动<br>(ii). num == 0 的情况下 p0 指针写入并移动  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">sortColors</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> p0 = <span class="number">0</span>; <span class="comment">// p0 指向 0 的写入点</span></span><br><span class="line">    <span class="type">int</span> p1 = <span class="number">0</span>; <span class="comment">// p1 指向 1 的写入点</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">      <span class="type">int</span> num = nums[i];</span><br><span class="line">      <span class="comment">// 不管是几先暂定写入2</span></span><br><span class="line">      nums[i] = <span class="number">2</span>;</span><br><span class="line">      <span class="comment">// 如果 num &lt; 2的情况下, p1指针写入并移动</span></span><br><span class="line">      <span class="keyword">if</span> (num &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        nums[p1++] = <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 如果 num == 0 的情况下, p0指针写入并移动</span></span><br><span class="line">      <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">        nums[p0++] = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1]. 被忽视的 partition 算法. <a target="_blank" rel="noopener" href="https://selfboot.cn/2016/09/01/lost_partition/">https://selfboot.cn/2016/09/01/lost_partition/</a>.<br>[2]. 生成数组区间范围内随机数. <a target="_blank" rel="noopener" href="https://blog.csdn.net/hellokandy/article/details/90045187">https://blog.csdn.net/hellokandy/article/details/90045187</a>.<br>[3]. 算法 第四版.  </p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源, from goldandrabbit.github.io </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">💰</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2018-2025
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="Toggle full screen shortcut key s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 602px;
    }
    .nav.fullscreen {
        margin-left: -602px;
    }
    .nav-left {
        width: 180px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 552px;
        }
        .nav.fullscreen {
            margin-left: -552px;
        }
        .nav-left {
            width: 160px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 552px;
            margin-left: -552px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #000000;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #87CEFA;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #ffffff;
    }
    
    
    .nav-right nav a.hover > span{
        color: #DC143C !important;
    }
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
